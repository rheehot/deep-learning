install.packages("here")
install.packages(c("here", "janitor"))
install.packages("tabulizer")
install.packages("R.matlab")
library(R.matlab)
library(magick)
install.packages("magick")
library(R.matlab)
library(magick)
mnist_df <- readMat("data/matlab/emnist-mnist.mat")
## 데이터 가져오기 ----------
mnist_train <- mnist_df$dataset[1, ,]$train
mnist_test <- mnist_df$dataset[2, ,]$test
## Feature/Label 데이터셋 ----------
test_img <- mnist_test[,,1]$images
test_img_labels <- mnist_test[,,1]$labels
test_img_labels
test_img
dim(test_img)
head(test_img_labels)
dim(test_img_labels)
visualize_character <- function(index) {
img_arr <- array(test_img[index,], c(28, 28, 1))
img_magick <- magick::image_read(img_arr / 255) %>% magick::image_scale("500x400")
return(img_magick)
}
visualize_character(1)
visualize_character(10)
visualize_character <- function(index) {
img_arr <- array(test_img[index,], c(28, 28, 1))
img_magick <- magick::image_read(img_arr / 255) %>%
magick::image_scale("500x400") %>%
image_annotate(test_img_labels[i], location = geometry_point(10, 10), size = 37, color = "red")
return(img_magick)
}
visualize_character(10)
visualize_character <- function(index) {
img_arr <- array(test_img[index,], c(28, 28, 1))
img_magick <- magick::image_read(img_arr / 255) %>%
magick::image_scale("500x400") %>%
image_annotate(test_img_labels[index], location = geometry_point(10, 10), size = 37, color = "red")
return(img_magick)
}
visualize_character(10)
28*28
visualize_character <- function(index) {
img_arr <- array(test_img[index,], c(28, 28, 1))
img_magick <- magick::image_read(img_arr / 255) %>%
magick::image_scale("500x400") %>%
image_annotate(test_img_labels[index], location = geometry_point(10, 10), size = 57, color = "red")
return(img_magick)
}
visualize_character(10)
visualize_character <- function(index) {
img_arr <- array(test_img[index,], c(28, 28, 1))
img_magick <- magick::image_read(img_arr / 255) %>%
magick::image_scale("500x400") %>%
image_annotate(test_img_labels[index], location = geometry_point(10, 10), size = 77, color = "red")
return(img_magick)
}
visualize_character(10)
visualize_character <- function(index) {
img_arr <- array(test_img[index,], c(28, 28, 1))
img_magick <- magick::image_read(img_arr / 255) %>%
magick::image_scale("500x400") %>%
image_annotate(test_img_labels[index], location = geometry_point(10, 10), size = 97, color = "red")
return(img_magick)
}
visualize_character(10)
visualize_character <- function(index) {
img_arr <- array(test_img[index,], c(28, 28, 1))
img_magick <- magick::image_read(img_arr / 255) %>%
magick::image_scale("500x400") %>%
image_annotate(test_img_labels[index], location = geometry_point(10, 10), size = 137, color = "red")
return(img_magick)
}
visualize_character(10)
sample(1:10000, 5, replace = FALSE)
random_img <- sample(1:10000, 5, replace = FALSE)
emnist_random_image <- map(random_img, visualize_character)
library(tidyverse)
random_img <- sample(1:10000, 5, replace = FALSE)
emnist_random_image <- map(random_img, visualize_character)
emnist_random_image[1]
emnist_random_image[2]
emnist_random_image[3]
map(emnist_random_image, image_append)
map(emnist_random_image, image_append, stack = TRUE)
image_join(emnist_random_image)
emnist_joined <- image_join(emnist_random_image)
image_mosaic(emnist_joined)
? image_join
install.packages("gifski")
image_animate(emnist_joined)
random_img <- sample(1:10000, 10, replace = FALSE)
emnist_random_image <- map(random_img, visualize_character)
emnist_joined <- image_join(emnist_random_image)
image_animate(emnist_joined)
image_animate(emnist_joined)
? image_animate
image_animate(emnist_joined, fps = 1)
random_img <- sample(1:10000, 20, replace = FALSE)
emnist_random_image <- map(random_img, visualize_character)
emnist_joined <- image_join(emnist_random_image)
image_animate(emnist_joined, fps = 1)
image_animate(emnist_joined, fps = 1)
image_append(emnist_joined)
random_img <- sample(1:10000, 10, replace = FALSE)
emnist_random_image <- map(random_img, visualize_character)
image_join(emnist_random_image) %>%
image_append()
image_join(emnist_random_image) %>%
image_append(stack = TRUE)
save_image <- function(index) {
img_arr <- array(test_img[index,], c(28, 28, 1))
img_magick <- magick::image_read(img_arr / 255) %>%
magick::image_scale("500x500") %>%
image_annotate(test_img_labels[index], location = geometry_point(10, 10), size = 137, color = "red")
image_write(image_magick, glue::glue("data/mnist/image_{i}.png"))
}
save_image(1000)
save_image <- function(index) {
img_arr <- array(test_img[index,], c(28, 28, 1))
img_magick <- magick::image_read(img_arr / 255) %>%
magick::image_scale("500x500") %>%
image_annotate(test_img_labels[index], location = geometry_point(10, 10), size = 137, color = "red")
image_write(img_magick, glue::glue("data/mnist/image_{i}.png"))
}
save_image(1000)
save_image <- function(index) {
img_arr <- array(test_img[index,], c(28, 28, 1))
img_magick <- magick::image_read(img_arr / 255) %>%
magick::image_scale("500x500") %>%
image_annotate(test_img_labels[index], location = geometry_point(10, 10), size = 137, color = "red")
image_write(img_magick, glue::glue("data/mnist/image_{index}.png"))
}
save_image(1000)
save_image <- function(index) {
img_arr <- array(test_img[index,], c(28, 28, 1))
img_magick <- magick::image_read(img_arr / 255) %>%
magick::image_scale("500x500") %>%
image_annotate(test_img_labels[index], location = geometry_point(10, 10), size = 137, color = "red")
image_write(img_magick, glue::glue("data/mnist/image_{index}.png"))
}
save_random_img <- sample(1:10000, 10, replace = FALSE)
map(save_random_img, save_image)
save_image(1000)
save_image <- function(index) {
img_arr <- array(test_img[index,], c(28, 28, 1))
img_magick <- magick::image_read(img_arr / 255) %>%
magick::image_scale("500x500") %>%
image_annotate(test_img_labels[index], location = geometry_point(10, 10), size = 137, color = "red")
image_write(img_magick, glue::glue("data/mnist/image_{index}.png"))
}
save_random_img <- sample(1:10000, 10, replace = FALSE)
map(save_random_img, save_image)
list.files("data/minist/")
test_img_labels[save_random_img]
library(glue)
file_names <- list.files("data/minist/")
mnist_df <- tibble(label = test_img_labels[save_random_img],
captcha = glue("data/minist/{file_names}"))
mnist_df
save_image <- function(index) {
img_arr <- array(test_img[index,], c(28, 28, 1))
img_magick <- magick::image_read(img_arr / 255) %>%
magick::image_scale("500x500") %>%
image_annotate(test_img_labels[index], location = geometry_point(10, 10), size = 137, color = "red")
image_write(img_magick, glue::glue("data/mnist/image_{index}.png"))
}
save_random_img <- sample(1:10000, 10, replace = FALSE)
map(save_random_img, save_image)
list.files("data/minist/")
library(glue)
file_names <- list.files("data/minist/")
mnist_df <- tibble(label = test_img_labels[save_random_img],
captcha = glue("data/minist/{file_names}"))
mnist_df
file_names
file_names <- list.files("data/minist/")
file_names
list.files("data/mnist/")
library(glue)
file_names <- list.files("data/mnist/")
mnist_df <- tibble(label = test_img_labels[save_random_img],
captcha = glue("data/mnist/{file_names}"))
mnist_df
mnist_df <- tibble(label = test_img_labels[save_random_img],
image = glue("data/mnist/{file_names}"))
mnist_df
mnist_df <- tibble(label = test_img_labels[save_random_img],
image = glue("data/mnist/{file_names}"))
mnist_df
library(trelliscopejs)
mnist_trellis <- mnist_df %>%
mutate(panel = img_panel_local(image))
trelliscope(mnist_trellis, name = "mnist",
nrow = 3, ncol = 7,
state = list(labels = c("label", "image")),
path="mnist")
install.packages("trelliscopejs")
library(trelliscopejs)
mnist_trellis <- mnist_df %>%
mutate(panel = img_panel_local(image))
trelliscope(mnist_trellis, name = "mnist",
nrow = 3, ncol = 7,
state = list(labels = c("label", "image")),
path="mnist")
library(trelliscopejs)
mnist_trellis <- mnist_df %>%
mutate(panel = img_panel_local(image))
trelliscope(mnist_trellis, name = "mnist",
nrow = 2, ncol = 5,
path="mnist")
mnist_df
mnist_trellis
library(trelliscopejs)
mnist_trellis <- mnist_df %>%
mutate(panel = img_panel_local(image))
trelliscope(mnist_trellis, name = "mnist",
path="mnist")
library(trelliscopejs)
mnist_trellis <- mnist_df %>%
mutate(panel = img_panel_local(image))
trelliscope(mnist_trellis, name = "mnist",
path="mnist")
mnist_trellis
mnist_df
library(trelliscopejs)
mnist_trellis <- mnist_df %>%
mutate(panel = img_panel_local(image))
trelliscope(mnist_trellis, name = "mnist",
path="mnist")
library(trelliscopejs)
mnist_df <- mnist_df %>%
mutate(panel = img_panel_local(image))
trelliscope(mnist_df, name = "mnist",
nrow = 2, ncol=5,
state = list(labels = c("label", "predicted")),
path="mnist")
mnist_df
library(trelliscopejs)
mnist_df <- mnist_df %>%
mutate(panel = img_panel_local(image))
trelliscope(mnist_df, name = "mnist",
nrow = 2, ncol=5,
state = list(labels = c("label")),
path="mnist")
library(glue)
file_names <- list.files("data/mnist/")
mnist_df <- tibble(label = test_img_labels[save_random_img],
image = glue("data/mnist/{file_names}"))
mnist_df
save_image <- function(index) {
img_arr <- array(test_img[index,], c(28, 28, 1))
img_magick <- magick::image_read(img_arr / 255) %>%
magick::image_scale("500x500") %>%
image_annotate(test_img_labels[index], location = geometry_point(10, 10), size = 137, color = "red")
image_write(img_magick, glue::glue("data/mnist/image_{index}.png"))
}
save_random_img <- sample(1:10000, 10, replace = FALSE)
map(save_random_img, save_image)
list.files("data/mnist/")
save_random_img
save_random_img %>% dput
library(glue)
file_names <- list.files("data/mnist/")
mnist_df <- tibble(label = test_img_labels[c(310L, 3546L, 921L, 6763L, 2460L, 9906L, 7596L, 1298L, 4564L, 3595L)],
image = glue("data/mnist/{file_names}"))
mnist_df
test_img_labels[c(310L, 3546L, 921L, 6763L, 2460L, 9906L, 7596L, 1298L, 4564L, 3595L)]
save_image <- function(index) {
img_arr <- array(test_img[index,], c(28, 28, 1))
img_magick <- magick::image_read(img_arr / 255) %>%
magick::image_scale("500x500") %>%
image_annotate(test_img_labels[index], location = geometry_point(10, 10), size = 137, color = "red")
image_write(img_magick, glue::glue("data/mnist/image_{index}.png"))
}
save_random_img <- sample(1:10000, 10, replace = FALSE) # c(310L, 3546L, 921L, 6763L, 2460L, 9906L, 7596L, 1298L, 4564L, 3595L)
map(save_random_img, save_image)
save_random_img
save_random_img %>% dput
test_img_labels[c(9683L, 4879L, 6692L, 5490L, 3315L, 5476L, 3003L, 2444L, 5421L, 7476L)]
test_img_labels[c(9683L, 4879L, 6692L, 5490L, 3315L, 5476L, 3003L, 2444L, 5421L, 7476L)]
save_random_img
test_img_labels[c(9683L, 4879L, 6692L, 5490L, 3315L, 5476L, 3003L, 2444L, 5421L, 7476L)]
mnist_df <- tibble(random = c(9683L, 4879L, 6692L, 5490L, 3315L, 5476L, 3003L, 2444L, 5421L, 7476L),
label = test_img_labels[c(9683L, 4879L, 6692L, 5490L, 3315L, 5476L, 3003L, 2444L, 5421L, 7476L)])
mnist_df
mnist_df <- tibble(random = c(9683L, 4879L, 6692L, 5490L, 3315L, 5476L, 3003L, 2444L, 5421L, 7476L),
label = test_img_labels[c(9683L, 4879L, 6692L, 5490L, 3315L, 5476L, 3003L, 2444L, 5421L, 7476L)]),
image = glue("data/mnist/image_{random}.png"))
mnist_df <- tibble(random = c(9683L, 4879L, 6692L, 5490L, 3315L, 5476L, 3003L, 2444L, 5421L, 7476L),
label = test_img_labels[c(9683L, 4879L, 6692L, 5490L, 3315L, 5476L, 3003L, 2444L, 5421L, 7476L)],
image = glue("data/mnist/image_{random}.png"))
mnist_df
library(trelliscopejs)
mnist_df <- mnist_df %>%
mutate(panel = img_panel_local(image))
trelliscope(mnist_df, name = "mnist",
nrow = 2, ncol=5,
state = list(labels = c("label")),
path="mnist")
library(trelliscopejs)
mnist_df <- mnist_df %>%
mutate(panel = img_panel_local(image))
trelliscope(mnist_df, name = "mnist",
nrow = 2, ncol=5,
state = list(labels = c("label")),
path="mnist")
library(trelliscopejs)
mnist_df <- mnist_df %>%
mutate(panel = img_panel_local(image))
trelliscope(mnist_df, name = "mnist",
nrow = 2, ncol=5,
state = list(labels = c("label")),
path="mnist")
library(trelliscopejs)
mnist_df <- mnist_df %>%
mutate(panel = img_panel_local(image))
trelliscope(mnist_df, name = "mnist",
nrow = 2, ncol=5,
state = list(labels = c("label")),
path="mnist")
library(glue)
file_names <- list.files("data/mnist/")
mnist_df <- tibble(random = c(9683L, 4879L, 6692L, 5490L, 3315L, 5476L, 3003L, 2444L, 5421L, 7476L),
label = test_img_labels[c(9683L, 4879L, 6692L, 5490L, 3315L, 5476L, 3003L, 2444L, 5421L, 7476L)],
image = glue("data/mnist_img/image_{random}.png"))
mnist_df
library(glue)
file_names <- list.files("data/mnist/")
mnist_df <- tibble(random = c(9683L, 4879L, 6692L, 5490L, 3315L, 5476L, 3003L, 2444L, 5421L, 7476L),
label = test_img_labels[c(9683L, 4879L, 6692L, 5490L, 3315L, 5476L, 3003L, 2444L, 5421L, 7476L)],
image = glue("data/mnist/image_{random}.png"))
mnist_df
library(trelliscopejs)
mnist_df <- mnist_df %>%
mutate(panel = img_panel_local(image))
trelliscope(mnist_df, name = "mnist",
nrow = 2, ncol=5,
state = list(labels = c("label")),
path="mnist")
